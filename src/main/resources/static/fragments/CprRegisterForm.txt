<p>
  <b>Data source type:</b>

  <input type="radio" name="sourceType" value="url" id="sourceTypeUrl" />
  <label for="sourceTypeUrl">Url</label><br/>

  <input type="radio" name="sourceType" value="upload" id="sourceTypeUpload" />
  <label for="sourceTypeUpload">File upload</label>
</p>

<p id="urlContainer">
  <label for="myndighedSourceUrl">Myndighedsdata source url:</label>
  <input type="url" name="myndighedSourceUrl" id="myndighedSourceUrl" size="40"/><br/>

  <label for="vejSourceUrl">Vejdata source url:</label>
  <input type="url" name="vejSourceUrl" id="vejSourceUrl" size="40"/><br/>

  <label for="lokalitetSourceUrl">Lokalitetsdata source url:</label>
  <input type="url" name="lokalitetSourceUrl" id="lokalitetSourceUrl" size="40"/><br/>

  <label for="postnummerSourceUrl">Postnummerdata source url:</label>
  <input type="url" name="postnummerSourceUrl" id="postnummerSourceUrl" size="40"/><br/>

  <label for="bynavnSourceUrl">Bynavnedata source url:</label>
  <input type="url" name="bynavnSourceUrl" id="bynavnSourceUrl" size="40"/><br/>

  <label for="cronMinute">Cron schedule:</label>
  <input type="text" id="cronMinute" pattern="\*|([1-5]?[0-9])" size="2" title="Cron expression: minute field. Set to either * or a number between 0 and 59" value="*" required/>
  <input type="text" id="cronHour" pattern="\*|((1?[0-9])|(2[0-3]))" size="2" title="Cron expression: hour field. Set to either * or a number between 0 and 23" value="*" required/>
  <input type="text" id="cronDate" pattern="\*|(([1-2]?[0-9])|(3[0-1]))" size="2" title="Cron expression: date of month field. Set to either * or a number between 1 and 31" value="*" required/>
  <input type="text" id="cronMonth" pattern="\*|([0-9]|(1[1-2]))" size="2" title="Cron expression: month field. Set to either * or a number between 1 and 12" value="*" required/>
  <input type="text" id="cronDay" pattern="\*|[0-6]" size="2" title="Cron expression: day of week field. Set to either * or a number between 0 and 6" value="*" required/>
  <input type="hidden" name="cron" id="cron"/>
</p>

<p id="uploadContainer">
  <label for="myndighedSourceUpload">Myndighedsdata source upload:</label>
  <input type="file" name="myndighedSourceUpload" id="myndighedSourceUpload"/><br/>

  <label for="vejSourceUpload">Vejdata source upload:</label>
  <input type="file" name="vejSourceUpload" id="vejSourceUpload"/><br/>

  <label for="lokalitetSourceUpload">Lokalitetsdata source upload:</label>
  <input type="file" name="lokalitetSourceUpload" id="lokalitetSourceUpload"/><br/>

  <label for="postnummerSourceUpload">Postnummerdata source upload:</label>
  <input type="file" name="postnummerSourceUpload" id="postnummerSourceUpload"/><br/>

  <label for="bynavnSourceUpload">Bynavnedata source upload:</label>
  <input type="file" name="bynavnSourceUpload" id="bynavnSourceUpload"/><br/>
</p>


<script>
var enables = [
  {
    radioName:"sourceType",
    typeMap:{
      "url":$("#urlContainer"),
      "upload":$("#uploadContainer")
    }
  },
 ]
for (var i=0; i<enables.length; i++) {
  var radioName = enables[i].radioName;
  var typeMap = enables[i].typeMap;

  var updateSourcetype = function(typeMap,el){
    for (var key in typeMap) {
      if (key == el.value) {
        typeMap[key].show();
      } else {
        typeMap[key].hide();
      }
    }
  }

  $("input[name='"+radioName+"']").change(function(typeMap, event){
    updateSourcetype(typeMap, event.target);
  }.bind(null, typeMap));

  var checkedRadios = $("input[name='"+radioName+"']:checked");
  if (checkedRadios.size() == 0) {
    for (var key in typeMap) {
      var radio = $("input[name='"+radioName+"'][value='"+key+"']");
      radio.attr("checked", "checked");
      checkedRadios = radio;
      break;
    }
  }
  if (checkedRadios.size() == 1) {
    updateSourcetype(typeMap, checkedRadios.get(0));
  }
}
</script>



<script>
var fields = ["cronMinute","cronHour","cronDate","cronMonth","cronDay"];

var cronValue = $("#cron").val().split(/\s+/);
for (var j=0; j<fields.length; j++) {
  var value = cronValue[j] || "*";
  $("#"+fields[j]).val(value);
}



var form = $("#editform");
form.submit(function() {
var cronValue = [];
for (var j=0; j<fields.length; j++) {
  var value = $("#"+fields[j]).val();
  cronValue.push(value);
}
$("#cron").val(cronValue.join(" "));
});

</script>